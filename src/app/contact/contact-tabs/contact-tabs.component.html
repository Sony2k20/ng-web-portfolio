<div
  class="max-w-screen-md mx-auto shadow-lg overflow-hidden bg-gradient-to-r from-secondary/70 to-secondary/80 leading-8 lg:leading-9"
>
  <div class="flex">
    <button
      (click)="switchTab('coaching')"
      [class.active]="activeTab === 'coaching'"
      class="flex-1 px-4 py-3 transition-colors duration-500 fadeInNav"
      [ngClass]="
        activeTab === 'coaching'
          ? 'bg-transparent hover:bg-transparent cursor-default'
          : 'bg-accent-light/25 hover:bg-accent-light cursor-pointer'
      "
    >
      Live Your Calling
      <div
        *ngIf="activeTab === 'coaching'"
        class="fadeInNav"
        class="mt-[1.4px] w-full md:w-9/12 h-[2px] mx-auto bg-gradient-to-r from-transparent via-accent/70 to-transparent"
      ></div>
    </button>
    <button
      (click)="switchTab('general')"
      [class.active]="activeTab === 'general'"
      class="flex-1 px-4 py-3 transition-colors duration-500 fadeInNav"
      [ngClass]="
        activeTab === 'general'
          ? 'bg-transparent hover:bg-transparent cursor-default'
          : 'bg-accent-light/25 hover:bg-accent-light cursor-pointer'
      "
    >
      Allgemeine Anfrage
      <div
        *ngIf="activeTab === 'general'"
        class="fadeInNav"
        class="mt-[1.4px] w-full md:w-9/12 h-[2px] mx-auto bg-gradient-to-r from-transparent via-accent/70 to-transparent"
      ></div>
    </button>
  </div>
  <div class="p-5 pb-9">
    <div *ngIf="activeTab === 'coaching'" class="fadeInNav"></div>

    <div *ngIf="activeTab === 'general'" class="fadeInNav">
      <form (ngSubmit)="onSubmit()" [formGroup]="emailForm" class="mx-auto">
        <div class="md:flex md:space-x-4">
          <!-- First Name -->
          <div class="flex-1 mb-5">
            <label for="firstName" class="mb-2 text-sm"
              >Vorname <span class="text-red-700">*</span></label
            >
            <input
              id="firstName"
              formControlName="firstName"
              class="bg-white border border-primary font-roboto text-sm rounded-lg focus:ring-accent-dark focus:border-accent block w-full p-2.5"
              [ngClass]="{
                'border-red-700':
                  emailForm.get('firstName')?.invalid &&
                  emailForm.get('firstName')?.touched,
              }"
            />
            <div
              *ngIf="
                emailForm.get('firstName')?.touched &&
                emailForm.get('firstName')?.invalid
              "
              class="text-red-700 text-xs mt-1"
            >
              <div *ngIf="emailForm.get('firstName')?.errors?.['required']">
                Vorname ist erforderlich.
              </div>
              <div *ngIf="emailForm.get('firstName')?.errors?.['pattern']">
                Nur Buchstaben sind erlaubt.
              </div>
              <div *ngIf="emailForm.get('firstName')?.errors?.['maxLength']">
                Der Name darf maximal 30 Zeichen lang sein.
              </div>
            </div>
          </div>

          <!-- Surname -->
          <div class="flex-1 mb-5">
            <label for="surname" class="mb-2 text-sm"
              >Nachname <span class="text-red-700">*</span></label
            >
            <input
              id="surname"
              formControlName="surname"
              class="bg-white border border-primary font-roboto text-sm rounded-lg focus:ring-accent-dark focus:border-accent block w-full p-2.5"
              [ngClass]="{
                'border-red-700':
                  emailForm.get('surname')?.invalid &&
                  emailForm.get('surname')?.touched,
              }"
            />
            <div
              *ngIf="
                emailForm.get('surname')?.touched &&
                emailForm.get('surname')?.invalid
              "
              class="text-red-700 text-xs mt-1"
            >
              <div *ngIf="emailForm.get('surname')?.errors?.['required']">
                Nachname ist erforderlich.
              </div>
              <div *ngIf="emailForm.get('surname')?.errors?.['pattern']">
                Nur Buchstaben sind erlaubt.
              </div>
              <div *ngIf="emailForm.get('surname')?.errors?.['maxLength']">
                Der Name darf maximal 30 Zeichen lang sein.
              </div>
            </div>
          </div>
        </div>

        <!-- Email -->
        <div class="mb-5">
          <label for="to" class="mb-2 text-sm"
            >E-Mail Adresse <span class="text-red-700">*</span></label
          >
          <input
            id="to"
            formControlName="to"
            type="email"
            class="bg-white border border-primary font-roboto text-sm rounded-lg focus:ring-accent-dark focus:border-accent block w-full p-2.5"
            [ngClass]="{
              'border-red-700':
                emailForm.get('to')?.invalid && emailForm.get('to')?.touched,
            }"
          />
          <div
            *ngIf="emailForm.get('to')?.touched && emailForm.get('to')?.invalid"
            class="text-red-700 text-xs mt-1"
          >
            <div *ngIf="emailForm.get('to')?.errors?.['required']">
              E-Mail Adresse ist erforderlich.
            </div>
            <div *ngIf="emailForm.get('to')?.errors?.['email']">
              Bitte geben Sie eine g√ºltige E-Mail-Adresse ein.
            </div>
          </div>
        </div>

        <!-- Message -->
        <div class="mb-6">
          <label for="message" class="mb-2 text-sm"
            >Nachricht <span class="text-red-700">*</span></label
          >
          <textarea
            id="message"
            formControlName="message"
            class="bg-white border font-roboto border-primary h-full min-h-[150px] text-sm rounded-lg focus:ring-accent-dark focus:border-accent block w-full p-2.5"
            [ngClass]="{
              'border-red-700':
                emailForm.get('message')?.invalid &&
                emailForm.get('message')?.touched,
            }"
          ></textarea>
          <div
            *ngIf="
              emailForm.get('message')?.touched &&
              emailForm.get('message')?.invalid
            "
            class="text-red-700 text-xs mt-1"
          >
            <div *ngIf="emailForm.get('message')?.errors?.['required']">
              Eine Nachricht ist erforderlich.
            </div>
          </div>
        </div>

        <div class="min-h-3 mb-4">
          <app-loading-dots *ngIf="isLoading"></app-loading-dots>
        </div>

        <app-main-button
          [isDisabled]="isLoading"
          type="submit"
          text="Absenden"
          additionalClasses="flex mx-auto uppercase"
        ></app-main-button>
      </form>
    </div>
  </div>
</div>
